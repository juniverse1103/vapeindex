name = "vapeindex-api"
main = "src/index.ts"
compatibility_date = "2024-11-16"
compatibility_flags = ["nodejs_compat"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "vapeindex-db"
database_id = "7132d9ed-eceb-4b67-b340-0a072a1108ed"

# KV Namespace for caching
[[kv_namespaces]]
binding = "CACHE"
id = "5cd8f247fd864875b86930be5fc98d35"

# Durable Objects for real-time trending
[[durable_objects.bindings]]
name = "TRENDING"
class_name = "TrendingCalculator"

[[migrations]]
tag = "v1"
new_classes = ["TrendingCalculator"]

[env.production]
name = "vapeindex-api-production"
