---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';

const posts = [
  { id: '20', title: 'Just got my first pod system - Caliburn AK2!', board: 'Beginner', boardSlug: 'beginner', score: 12, comments: 5, author: 'first_timer', time: '5m', hot: false },
  { id: '19', title: 'Smok Nord 5 vs Vaporesso XROS 3 - which one?', board: 'Pod Systems', boardSlug: 'pods', score: 23, comments: 8, author: 'pod_seeker', time: '15m', hot: false },
  { id: '18', title: 'Best place to buy authentic disposables online?', board: 'Disposables', boardSlug: 'disposables', score: 34, comments: 12, author: 'authentic_buyer', time: '32m', hot: false },
  { id: '17', title: 'DIY e-liquid recipe - Strawberry Cheesecake', board: 'DIY', boardSlug: 'diy', score: 45, comments: 18, author: 'diy_master', time: '1h', hot: false },
  { id: '16', title: 'Puffco Peak vs Pax Plus for concentrates?', board: 'Dry Herb', boardSlug: 'dryherb', score: 28, comments: 15, author: 'concentrate_fan', time: '1h', hot: false },
  { id: '15', title: 'Anyone tried the new Geek Bar Pulse? Thoughts?', board: 'Disposables', boardSlug: 'disposables', score: 134, comments: 48, author: 'disposable_fan', time: '2h', hot: false },
  { id: '14', title: 'Lost Vape Thelema DNA250C - 6 month review', board: 'Reviews', boardSlug: 'reviews', score: 189, comments: 52, author: 'reviewer_pro', time: '3h', hot: false },
  { id: '13', title: 'Storz & Bickel Mighty+ price tracking', board: 'Deals', boardSlug: 'deals', score: 267, comments: 41, author: 'price_watcher', time: '4h', hot: false },
  { id: '12', title: 'Complete beginner - what device should I buy?', board: 'Beginner', boardSlug: 'beginner', score: 98, comments: 73, author: 'newbie2025', time: '5h', hot: false },
  { id: '11', title: 'Built my first triple-core fused clapton coils!', board: 'DIY', boardSlug: 'diy', score: 145, comments: 67, author: 'coil_builder', time: '6h', hot: false },
];
---

<Layout title="New Posts - VapeIndex">
  <Header />

  <main class="main-content">
    <div class="layout-container content-page">
      <div class="page-header">
        <h1>ðŸ†• New Posts</h1>
        <p>Latest posts from all boards, sorted by newest first</p>
      </div>

      <div class="filter-bar">
        <div class="filter-tabs">
          <a href="/" class="filter-tab">ðŸ”¥ Hot</a>
          <a href="/new" class="filter-tab active">New</a>
          <a href="/top" class="filter-tab">Top</a>
          <a href="/rising" class="filter-tab">Rising</a>
        </div>
        <div class="filter-actions">
          <a href="/submit" class="create-post-btn">+ Create Post</a>
        </div>
      </div>

      <div class="posts-container">
        {posts.map(post => (
          <article class="post-card">
            <div class="vote-column">
              <button class="vote-btn vote-up">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 3l5 5H3z"/>
                </svg>
              </button>
              <span class="vote-score">{post.score}</span>
              <button class="vote-btn vote-down">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 13l-5-5h10z"/>
                </svg>
              </button>
            </div>

            <div class="post-content">
              <div class="post-meta">
                <a href={`/b/${post.boardSlug}`} class="board-tag">b/{post.boardSlug}</a>
                <span class="meta-separator">â€¢</span>
                <a href={`/u/${post.author}`} class="author-link">u/{post.author}</a>
                <span class="meta-separator">â€¢</span>
                <time class="post-time">{post.time}</time>
                {post.hot && <span class="badge badge-hot">ðŸ”¥ HOT</span>}
              </div>

              <h2 class="post-title">
                <a href={`/post/${post.id}`}>{post.title}</a>
              </h2>

              <div class="post-actions">
                <a href={`/post/${post.id}`} class="action-btn action-comment">
                  <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M2 3a1 1 0 011-1h10a1 1 0 011 1v8a1 1 0 01-1 1h-2.586l-2.707 2.707a1 1 0 01-1.414 0L3.586 12H3a1 1 0 01-1-1V3z"/>
                  </svg>
                  <span>{post.comments}</span>
                </a>
                <button class="action-btn action-share">
                  <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M13 7a2 2 0 100-4 2 2 0 000 4zm-2.5 1.5l-5 3a2 2 0 100 3 2 2 0 000-4l5-3z"/>
                  </svg>
                  <span>Share</span>
                </button>
                <button class="action-btn action-save">
                  <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M3 2a1 1 0 00-1 1v11l6-3 6 3V3a1 1 0 00-1-1H3z"/>
                  </svg>
                  <span>Save</span>
                </button>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </main>
</Layout>

<style>
  .content-page {
    max-width: 900px;
    margin: 0 auto;
    padding: 1rem;
  }

  .page-header {
    background: white;
    border: 1px solid var(--border);
    padding: 2rem;
    margin-bottom: 1rem;
    border-radius: 0.5rem;
  }

  .page-header h1 {
    font-size: 2rem;
    font-weight: 900;
    margin: 0 0 0.5rem 0;
  }

  .page-header p {
    font-size: 1rem;
    color: #666;
    margin: 0;
  }

  .filter-bar {
    background: white;
    border: 1px solid var(--border);
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
    display: flex;
    gap: 1rem;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .filter-tabs {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    flex: 1;
  }

  .filter-tab {
    color: #333;
    text-decoration: none;
    padding: 0.375rem 0.75rem;
    font-weight: 700;
    font-size: 0.875rem;
    border-radius: 0.25rem;
  }

  .filter-tab.active {
    color: #000;
    background: #f0f0f0;
  }

  .create-post-btn {
    background: var(--brand);
    color: white;
    padding: 0.5rem 1.25rem;
    border-radius: 0.25rem;
    text-decoration: none;
    font-weight: 700;
    font-size: 0.875rem;
  }

  @media (max-width: 768px) {
    .content-page {
      padding: 0.5rem;
    }

    .page-header {
      padding: 1rem;
    }

    .page-header h1 {
      font-size: 1.5rem;
    }
  }
</style>
